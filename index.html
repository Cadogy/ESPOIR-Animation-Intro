<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ESPOIR</title>
  <link rel="stylesheet" href="style3.css" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.10.4/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/2.0.2/anime.min.js"></script>
</head>
<body>
  <div class="container">
    <button class="btn">DEMO ANIMATION INTRO</button>
    <div class="grunge-bg"></div>
    <div class="text-container"></div>
    <div class="text-wrapper">
        <div class="text">ESPOIR ESPOIR ESPOIR ESPOIR ESPOIR ESPOIR ESPOIR ESPOIR ESPOIR</div>
        <div class="text">ESPOIR ESPOIR ESPOIR ESPOIR ESPOIR ESPOIR ESPOIR ESPOIR ESPOIR</div>
        <div class="text">ESPOIR ESPOIR ESPOIR ESPOIR ESPOIR ESPOIR ESPOIR ESPOIR ESPOIR</div>
        <div class="text">ESPOIR ESPOIR ESPOIR ESPOIR ESPOIR ESPOIR ESPOIR ESPOIR ESPOIR</div>
        <div class="text">ESPOIR ESPOIR ESPOIR ESPOIR ESPOIR ESPOIR ESPOIR ESPOIR ESPOIR</div>
        <div class="text">ESPOIR ESPOIR ESPOIR ESPOIR ESPOIR ESPOIR ESPOIR ESPOIR ESPOIR</div>
        <div class="text">ESPOIR ESPOIR ESPOIR ESPOIR ESPOIR ESPOIR ESPOIR ESPOIR ESPOIR</div>
        <div class="text">ESPOIR ESPOIR ESPOIR ESPOIR ESPOIR ESPOIR ESPOIR ESPOIR ESPOIR</div>
        <div class="text">ESPOIR ESPOIR ESPOIR ESPOIR ESPOIR ESPOIR ESPOIR ESPOIR ESPOIR</div>
        <div class="text">ESPOIR ESPOIR ESPOIR ESPOIR ESPOIR ESPOIR ESPOIR ESPOIR ESPOIR</div>
      </div>
    <div class="header">ESPOIR</div>
  </div>
  <script>
    const btn = document.querySelector(".btn");

    btn.addEventListener("click", function () {
      gsap.to(".btn", 1, {
        opacity: 0,
        y: -40,
        ease: Expo.easeInOut,
      });

      gsap.to(".text-wrapper > div", 1, {
        x: "500",
        ease: Expo.easeInOut,
        delay: 1,
        stagger: 0.1,
      });

      gsap.to(".text-wrapper", 3, {
        y: -600,
        scale: 4.5,
        rotate: -90,
        ease: Expo.easeInOut,
        delay: 1.5,
        transformOrigin: "50% 50%", // Set transform origin to the center of each text element
        onComplete: function () {
          // Change text colors when rotation is complete
          const textElements = document.querySelectorAll(".text");
          const brandColors = ['#941119', '#126BB0', '#C87224']; // Add more brand colors as needed

          textElements.forEach((element, index) => {
            gsap.fromTo(
              element,
              { color: window.getComputedStyle(element).color },
              { color: brandColors[index % brandColors.length], duration: 0.5 }
            );
          });
        },
      });

      gsap.to(".text", 1, {
        opacity: 1,
        ease: Expo.easeInOut,
        delay: 3,
      });

      gsap.to(".text-wrapper > div", 4, {
        x: "-3500",
        ease: Expo.easeInOut,
        delay: 3.5,
        stagger: 0.05,
      });

      gsap.to(".text-container", 2, {
        bottom: "-100%",
        ease: Expo.easeInOut,
        delay: 6,
      });

      // New animation for the header
      let textWrapper = document.querySelector(".header");
      textWrapper.style.opacity = 1; // Show the header initially
      textWrapper.innerHTML = textWrapper.textContent.replace(
        /\S/g,
        "<span class='letter'>$&</span>"
      );

      anime.timeline().add({
        targets: ".header .letter",
        translateY: [100, 0],
        translateZ: 0,
        opacity: [0, 1],
        easing: "easeOutExpo",
        duration: 1000,
        delay: (el, i) => 7000 + 40 * i,
      });
    });
  </script>
</body>
</html>
